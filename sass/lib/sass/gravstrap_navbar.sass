@import "compass/css3/transition"
@import "compass/css3/transform"
@import "compass/css3/box-shadow"
@import "compass/css3/border-radius"
@import "compass/css3/box-sizing"
@import "compass/css3/filter"


$navbar-bg-color: transparent
$navbar-padding: 0.5rem 8rem
$narbar-transition: all 0.5s ease

// Navbar colors
$navbar-accent-color: #fff
$navbar-accent-hover-color: #dde300
$navbar-brand-color: $navbar-accent-color
$navbar-brand-hover-color: $navbar-accent-color
$navbar-accent-active-color: #ffe727
$navbar-accent-active-hover-color: $navbar-accent-hover-color

// Navbar scrolled colors
$navbar-scrolled-bg-color: #fff
$navbar-scrolled-accent-color: #525252
$navbar-scrolled-brand-color: $navbar-accent-color
$navbar-scrolled-brand-hover-color: $navbar-accent-color
$navbar-scrolled-accent-hover-color: #dde300
$navbar-scrolled-accent-active-color: #ffe727
$navbar-scrolled-accent-active-hover-color: $navbar-accent-hover-color

// Dark navbar example
// navbar-scrolled-bg-color: #333333
// $navbar-scrolled-accent-color: #fff
// $navbar-scrolled-brand-color: $navbar-accent-color
// $navbar-scrolled-brand-hover-color: $navbar-accent-color
// $navbar-scrolled-accent-hover-color: #dde300
// $navbar-scrolled-accent-active-color: #ffe727
// $navbar-scrolled-accent-active-hover-color: $navbar-accent-hover-color

.navbar
    background-color: $navbar-bg-color
    border-bottom: 0
    padding: $navbar-padding
    +transition($narbar-transition)

    .navbar-brand
        color: $navbar-brand-color
        font-weight: bold

    .navbar-brand:hover 
        color: $navbar-brand-hover-color

    .navbar-nav
        > li > a
            color: $navbar-accent-color

        > li > a:hover
            color: $navbar-accent-hover-color

        > .active > a    
            color: $navbar-accent-active-color

        > .active > a:hover 
            color: $navbar-accent-active-hover-color

        > .active > a, > .active > a:hover
            background-color: transparent

    &.scrolled
        background-color: $navbar-scrolled-bg-color
        opacity: 0.9
        box-shadow: 0 0.05rem 1rem #333

        .navbar-brand
            color: $navbar-scrolled-accent-color

        .navbar-brand:hover 
            color: $navbar-scrolled-brand-hover-color

        .navbar-nav
            > li > a
                color: $navbar-scrolled-accent-color

            > li > a:hover
                color: $navbar-scrolled-accent-hover-color

            > .active > a    
                color: $navbar-scrolled-accent-active-color

            > .active > a:hover 
                color: $navbar-scrolled-accent-active-hover-color

.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:focus, .navbar-default .navbar-nav > .open > a:hover
    background-color: transparent
    color: #fff

.navbar-nav > li > .dropdown-menu, .dropdown-menu
    display: block
    margin: 0
    padding: 0
    z-index: 1000
    position: absolute
    opacity: 0
    +transform(scale(0))
    +box-shadow(1px, 2px, 3px, rgba(0, 0, 0, 0.125))
    +border-radius(0.8rem)
    +box-sizing(border-box)
    +filter(alpha(opacity=0))
    +transition(all, 100ms, cubic-bezier(0.950, 0.050, 0.795, 0.035))
    +transition-timing-function(cubic-bezier(0.950, 0.050, 0.795, 0.035))
    
    
.navbar-nav > li.open > .dropdown-menu, .open .dropdown-menu
    +transform(scale(1))
    +filter(none)
    opacity: 1

%triangle
    border-left: 11px solid rgba(0, 0, 0, 0)
    border-right: 11px solid rgba(0, 0, 0, 0)
    content: ""
    display: inline-block
    position: absolute
    left: 100%
    margin-left: -80%

.dropdown-menu:before
    @extend %triangle
    border-bottom: 11px solid rgba(0, 0, 0, 0.2)
    top: -11px

.dropdown-menu:after 
    @extend %triangle
    border-bottom: 11px solid #FFFFFF
    top: -10px
    
.dropdown-menu > li > a 
    padding: 8px 20px
    color: #333333

.dropdown-menu > li:first-child > a
    border-radius: 10px 10px 0 0

.dropdown-menu > li:last-child > a
    border-bottom: 0 none
    border-radius: 0 0 10px 10px

.dropdown-menu > li > a:hover, .dropdown-menu > li > a:focus 
    background-color: #F5F5F5
    color: #333333
    opacity: 1
    text-decoration: none